<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEWTONEXUS</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #3498db;
      --secondary: #2ecc71;
      --accent: #e74c3c;
      --dark: #2c3e50;
      --light: #ecf0f1;
      --gray: #95a5a6;
      --dark-bg: rgba(44, 62, 80, 0.9);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Roboto', sans-serif;
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: var(--light);
      min-height: 100vh;
      transition: background-image 0.5s ease;
    }
    
    body.earth {
      background-image: url('earth.gif');
    }
    
    body.moon {
      background-image: url('moon.gif');
    }
    
    body.mars {
      background-image: url('mars.gif');
    }
    
    body.jupiter {
      background-image: url('jupiter.gif');
    }
    
    body.custom {
      background-image: url('bg2.png');
    }
    
    /* Header */
    header {
      background-color: var(--dark-bg);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .logo img {
      height: 50px;
      width: auto;
    }
    
    .logo h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.8rem;
      color: cyan;
      margin: 0;
    }
    
    nav ul {
      display: flex;
      list-style: none;
      gap: 1.5rem;
    }
    
    nav a {
      color: var(--light);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
      padding: 0.5rem;
    }
    
    nav a:hover {
      color: var(--secondary);
    }
    
    /* Main Content */
    main {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 2rem;
    }
    
    .hero {
      text-align: center;
      margin-bottom: 3rem;
    }
    
    .hero h2 {
      font-family: 'Montserrat', sans-serif;
      font-size: 50px;
      color:rgb(171, 226, 228);
    }
    
    .hero p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto 2rem;
      color: var(--gray);
    }
    
    /* Simulator Container */
    .simulator-container {
      background-color: var(--dark-bg);
      border-radius: 15px;
      padding: 2rem;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
      margin-bottom: 3rem;
    }
    
    .controls {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .control-group {
      margin-bottom: 1rem;
    }
    
    .control-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: white;
    }
    
    .control-group input,
    .control-group select {
      width: 100%;
      padding: 0.8rem;
      border: 2px solid var(--gray);
      border-radius: 5px;
      background-color: rgb(0, 0, 0);
      color: var(--light);
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    
    .control-group input:focus,
    .control-group select:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    .buttons {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    
    button {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 5px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    button i {
      font-size: 1.2rem;
    }
    
    .btn-primary {
      background-color: #4CAF50;
      color: white;
    }
    
    .btn-primary:hover {
      background-color: #45a049;
      transform: translateY(-2px);
    }
    
    .btn-secondary {
      background-color: #2196F3;
      color: white;
    }
    
    .btn-secondary:hover {
      background-color: #0b7dda;
      transform: translateY(-2px);
    }
    
    .btn-accent {
      background-color: var(--accent);
      color: white;
    }
    
    .btn-accent:hover {
      background-color: #c0392b;
      transform: translateY(-2px);
    }
    
    /* Canvas */
    .canvas-container {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 2rem;
    }
    
    canvas {
      display: block;
      width: 100%;
      height: 400px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      background: radial-gradient(circle, rgba(235, 197, 211, 1) 20%, rgba(148, 187, 233, 1) 75%);
    }
    
    /* Results */
    .results {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 1.5rem;
      margin-top: 2rem;
      display: none;
    }
    
    .results h3 {
      margin-bottom: 1rem;
      color: var(--light);
      font-family: 'Montserrat', sans-serif;
    }
    
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
    }
    
    .result-item {
      background-color: rgba(0, 0, 0, 0.3);
      padding: 1rem;
      border-radius: 5px;
      border-left: 4px solid var(--primary);
    }
    
    .result-item h4 {
      color: var(--secondary);
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .result-item p {
      font-size: 1.2rem;
      font-weight: 500;
    }
    
    /* Footer */
    footer {
      background-color: var(--dark-bg);
      padding: 2rem;
      text-align: center;
      margin-top: 3rem;
    }
    
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .social-links {
      display: flex;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .social-links a {
      color: var(--light);
      font-size: 1.5rem;
      transition: color 0.3s;
    }
    
    .social-links a:hover {
      color: var(--primary);
    }
    
    .copyright {
      color: var(--gray);
      font-size: 0.9rem;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        padding: 1rem;
      }
      
      .logo {
        margin-bottom: 1rem;
      }
      
      nav ul {
        gap: 1rem;
      }
      
      .hero h2 {
        font-size: 2rem;
        color:black;
      }
      
      .controls {
        grid-template-columns: 1fr;
      }
      
      .buttons {
        flex-direction: column;
}

    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="earth">
  <header>
    <div class="logo">
      <img src="logo.png" alt="NEWTONEXUS Logo">
      <h1>NEWTONEXUS</h1>
    </div>
    <nav>
      <ul>
        <li><a href="acts.html" target="_blank"><i class="fas fa-book"></i> Sample activity</a></li>
        <li><a href="Tutorial.html"><i class="fas fa-pen"></i> Tutorial</a></li>
        <li><a href="contacts.html"><i class="fas fa-envelope"></i> Contact</a></li>
      </ul>
    </nav>
  </header>
  
  <main>
    <section class="hero">
      <h2>Projectile Motion Simulator</h2>
    </section>
    
    <section class="simulator-container">
      <div class="controls">
        <div class="control-group">
          <label for="mode"><i class="fas fa-rocket"></i> Mode</label>
          <select id="mode">
            <option value="vertical">Angled Launch</option>
            <option value="horizontal">Horizontal Launch</option>
          </select>
        </div>
        
        <div id="speedDiv" class="control-group">
          <label for="speed"><i class="fas fa-tachometer-alt"></i> Initial Speed (m/s)</label>
          <input type="number" id="speed" min="0" step="0.1" placeholder="e.g., 20">
        </div>
        
        <div id="angleDiv" class="control-group">
          <label for="angle"><i class="fas fa-angle-up"></i> Angle (degrees)</label>
          <input type="number" id="angle" min="0" max="90" step="1">
        </div>
        
        <div class="control-group">
          <label for="height"><i class="fas fa-mountain"></i> Initial Height (m)</label>
          <input type="number" id="height" min="0" step="0.1" value="0">
        </div>
        
        <div class="control-group">
          <label for="givenTime"><i class="fas fa-clock"></i> Given Time (s)</label>
          <input type="number" id="givenTime" step="0.01" min="0">
        </div>
        
        <div class="control-group">
          <label for="gravity"><i class="fas fa-globe"></i> Gravity (m/s²)</label>
          <select id="gravity">
            <option value="9.81">Earth (9.81 m/s²)</option>
            <option value="1.62">Moon (1.62 m/s²)</option>
            <option value="3.71">Mars (3.71 m/s²)</option>
            <option value="24.79">Jupiter (24.79 m/s²)</option>
            <option value="custom">Custom</option>
          </select>
          <input type="number" id="customGravity" style="display: none; margin-top: 10px;" placeholder="Enter custom gravity" step="0.01" min="0">
        </div>
      </div>
      
      <div class="buttons">
        <button class="btn-primary" id="solveBtn"><i class="fas fa-play"></i> Solve & Visualize</button>
        <button class="btn-secondary" id="solutionBtn" style="display: none;"><i class="fas fa-book-open"></i> Detailed Solution</button>
        <button class="btn-accent" id="resetBtn"><i class="fas fa-redo"></i> Reset</button>
      </div>
      
      <div class="canvas-container">
        <canvas id="canvas" width="900" height="400"></canvas>
      </div>
      
      <div class="results" id="results">
        <h3><i class="fas fa-chart-bar"></i> Simulation Results</h3>
        <div class="results-grid" id="resultsContent"></div>
      </div>
    </section>
    
    <section class="info-section">
      <h3><i class="fas fa-info-circle"></i> About Projectile Motion</h3>
      <p>Projectile motion is a form of motion experienced by an object or particle that is projected near the Earth's surface and moves along a curved path under the action of gravity only. This simulator allows you to explore how different parameters affect the trajectory.</p>
    </section>
  </main>
  
  <footer>
    <div class="footer-content">
      <div class="social-links">
        <a href="https://www.facebook.com/share/1EPyDDrpBw/"><i class="fab fa-facebook"></i></a>
        <a href="https://www.instagram.com/bfjsdhbjfsbdbfjbdjs/"><i class="fab fa-instagram"></i></a>
      </div>
      <p class="copyright">&copy; 2025 NEWTONEXUS Projectile Motion Simulator. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // DOM Elements
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      const modeSelect = document.getElementById("mode");
      const angleDiv = document.getElementById("angleDiv");
      const gravitySelect = document.getElementById("gravity");
      const customGravityInput = document.getElementById("customGravity");
      const solveBtn = document.getElementById("solveBtn");
      const solutionBtn = document.getElementById("solutionBtn");
      const resetBtn = document.getElementById("resetBtn");
      const resultsDiv = document.getElementById("results");
      const resultsContent = document.getElementById("resultsContent");

      // Simulation variables
      let animationId = null;
      let currentAnimation = null;
      let g = 9.81;
      let solutionContent = "";
      
      // Load projectile image
      const projectileImage = new Image();
      projectileImage.src = 'sean.jpg';
      
      // Initialize
      toggleMode();
      
      // Event Listeners
      modeSelect.addEventListener('change', toggleMode);
      gravitySelect.addEventListener('change', updateGravity);
      customGravityInput.addEventListener('input', updateCustomGravity);
      solveBtn.addEventListener('click', solveAndDraw);
      solutionBtn.addEventListener('click', showSolution);
      resetBtn.addEventListener('click', resetSimulator);
      
      // Functions
      function toggleMode() {
        const mode = modeSelect.value;
        if (mode === "horizontal") {
          document.getElementById("angleDiv").style.display = "none";
        } else {
          document.getElementById("angleDiv").style.display = "block";
        }
        clearCanvas();
      }
      
      function updateGravity() {
        const gravitySelect = document.getElementById("gravity");
        const customGravityInput = document.getElementById("customGravity");
        
        // Remove all background classes
        document.body.className = '';
        
        if (gravitySelect.value === "custom") {
          customGravityInput.style.display = "block";
          g = parseFloat(customGravityInput.value) || 9.81;
          document.body.classList.add('custom');
        } else {
          customGravityInput.style.display = "none";
          g = parseFloat(gravitySelect.value);
          
          // Add appropriate class based on selection
          switch(gravitySelect.value) {
            case "9.81":
              document.body.classList.add('earth');
              break;
            case "1.62":
              document.body.classList.add('moon');
              break;
            case "3.71":
              document.body.classList.add('mars');
              break;
            case "24.79":
              document.body.classList.add('jupiter');
              break;
          }
        }
      }
      
      function updateCustomGravity() {
        if (document.getElementById("gravity").value === "custom") {
          g = parseFloat(this.value) || 9.81;
          document.body.className = '';
          document.body.classList.add('custom');
        }
      }
      
      function solveAndDraw() {
        const mode = document.getElementById("mode").value;
        const v0 = parseFloat(document.getElementById("speed").value);
        const angleDeg = parseFloat(document.getElementById("angle").value);
        const h = parseFloat(document.getElementById("height").value);
        const t = parseFloat(document.getElementById("givenTime").value);

        if (isNaN(v0) || v0 <= 0) {
          alert("Please enter a valid positive initial speed.");
          return;
        }
        
        if (mode === "vertical" && (isNaN(angleDeg) || angleDeg < 0 || angleDeg > 90)) {
          alert("Please enter a valid angle between 0 and 90 degrees.");
          return;
        }
        
        if (isNaN(h) || h < 0) {
          alert("Please enter a valid non-negative initial height.");
          return;
        }
        
        if (isNaN(t) || t < 0) {
          alert("Please enter a valid non-negative time.");
          return;
        }

        if (mode === "vertical") {
          solveVerticalAtTime(v0, angleDeg, h, t);
        } else {
          solveHorizontalAtTime(v0, h, t);
        }
        
        // Show the solution button and results
        solutionBtn.style.display = "inline-flex";
        resultsDiv.style.display = "block";
      }
      
      function solveVerticalAtTime(v0, angleDeg, h, t) {
        const angleRad = angleDeg * Math.PI / 180;
        const vx = v0 * Math.cos(angleRad);
        const vy0 = v0 * Math.sin(angleRad);

        // Position at time t
        const dx = vx * t;
        const dy = h + vy0 * t - 0.5 * g * t * t;

        // Calculate maximum height
        const maxHeight = h + (vy0 * vy0) / (2 * g);
        const timeToMaxHeight = vy0 / g;

        // Calculate total flight time
        const discriminant = vy0 * vy0 + 2 * g * h;
        const totalTime = (vy0 + Math.sqrt(discriminant)) / g;

        // Prepare results content
        resultsContent.innerHTML = `
          <div class="result-item">
            <h4>Horizontal Displacement</h4>
            <p>${dx.toFixed(2)} m</p>
          </div>
          <div class="result-item">
            <h4>Vertical Displacement</h4>
            <p>${dy.toFixed(2)} m</p>
          </div>
          <div class="result-item">
            <h4>Maximum Height</h4>
            <p>${maxHeight.toFixed(2)} m</p>
          </div>
          <div class="result-item">
            <h4>Time to Max Height</h4>
            <p>${timeToMaxHeight.toFixed(2)} s</p>
          </div>
          <div class="result-item">
            <h4>Total Flight Time</h4>
            <p>${totalTime.toFixed(2)} s</p>
          </div>
          <div class="result-item">
            <h4>Range</h4>
            <p>${(vx * totalTime).toFixed(2)} m</p>
          </div>
        `;

        solutionContent = `
          <h4>Vertical Launch Calculations</h4>
          <p><strong>Horizontal motion:</strong></p>
          <p>dx = v₀ cos(θ) × t = ${v0} × cos(${angleDeg}°) × ${t} = ${dx.toFixed(2)} m</p>
          
          <p><strong>Vertical motion:</strong></p>
          <p>dy = h + v₀ sin(θ) × t - ½gt² = ${h} + ${v0} × sin(${angleDeg}°) × ${t} - 0.5 × ${g} × ${t}² = ${dy.toFixed(2)} m</p>
          
          <p><strong>Maximum height:</strong></p>
          <p>h_max = h + (v₀ sin(θ))² / (2g) = ${h} + (${v0} × sin(${angleDeg}°))² / (2 × ${g}) = ${maxHeight.toFixed(2)} m</p>
          
          <p><strong>Time to max height:</strong></p>
          <p>t_max = v₀ sin(θ) / g = ${v0} × sin(${angleDeg}°) / ${g} = ${timeToMaxHeight.toFixed(2)} s</p>
          
          <p><strong>Total flight time:</strong></p>
          <p>t_total = [v₀ sin(θ) + √(v₀² sin²(θ) + 2gh)] / g = [${v0} × sin(${angleDeg}°) + √(${v0}² × sin²(${angleDeg}°) + 2 × ${g} × ${h})] / ${g} = ${totalTime.toFixed(2)} s</p>
        `;

        const expectedRange = vx * totalTime;
        const margin = 100;
        const scaleX = expectedRange > 0 ? (canvas.width - margin) / expectedRange : 1;
        const scaleY = maxHeight > 0 ? (canvas.height - 100) / maxHeight : 1;
        const scale = Math.min(scaleX, scaleY);

        currentAnimation = {vx, vy0, h, totalTime, scale, targetTime: t, mode: 'vertical'};
        animateProjectile();
      }

      function solveHorizontalAtTime(v0, h, t) {
        // Horizontal velocity only, vertical free fall from height h
        const dx = v0 * t;
        const dy = h - 0.5 * g * t * t;

        // Calculate total flight time
        const totalTime = Math.sqrt((2 * h) / g);
        const maxHeight = h;  // Initial height is the maximum height in horizontal launch

        // Prepare results content
        resultsContent.innerHTML = `
          <div class="result-item">
            <h4>Horizontal Displacement</h4>
            <p>${dx.toFixed(2)} m</p>
          </div>
          <div class="result-item">
            <h4>Vertical Displacement</h4>
            <p>${dy.toFixed(2)} m</p>
          </div>
          <div class="result-item">
            <h4>Maximum Height</h4>
            <p>${maxHeight.toFixed(2)} m</p>
          </div>
          <div class="result-item">
            <h4>Total Flight Time</h4>
            <p>${totalTime.toFixed(2)} s</p>
          </div>
          <div class="result-item">
            <h4>Range</h4>
            <p>${(v0 * totalTime).toFixed(2)} m</p>
          </div>
        `;

        solutionContent = `
          <h4>Horizontal Launch Calculations</h4>
          <p><strong>Horizontal motion:</strong></p>
          <p>dx = v₀ × t = ${v0} × ${t} = ${dx.toFixed(2)} m</p>
          
          <p><strong>Vertical motion:</strong></p>
          <p>dy = h - ½gt² = ${h} - 0.5 × ${g} × ${t}² = ${dy.toFixed(2)} m</p>
          
          <p><strong>Total flight time:</strong></p>
          <p>t_total = √(2h/g) = √(2 × ${h} / ${g}) = ${totalTime.toFixed(2)} s</p>
        `;

        const expectedRange = v0 * totalTime;
        const margin = 100;
        const scaleX = expectedRange > 0 ? (canvas.width - margin) / expectedRange : 1;
        const scaleY = maxHeight > 0 ? (canvas.height - 100) / maxHeight : 1;
        const scale = Math.min(scaleX, scaleY);

        currentAnimation = {vx: v0, vy0: 0, h, totalTime, scale, targetTime: t, mode: 'horizontal'};
        animateProjectile();
      }

      function animateProjectile() {
        if (!currentAnimation) return;
        
        const {vx, vy0, h, totalTime, scale, targetTime, mode} = currentAnimation;
        const originX = 50;
        const originY = canvas.height - 50;

        let t = 0;
        const dt = 0.02;
        let targetPointDrawn = false;
        let maxHeightReached = false;

        function drawFrame() {
          clearCanvas();
          drawCartesianPlane(scale);

          // Draw start point
          drawFixedPoint(originX + 0 * scale, originY - h * scale, "green");

          // Draw end point
          const endX = vx * totalTime;
          const endY = mode === 'vertical' ? 
            h + vy0 * totalTime - 0.5 * g * totalTime * totalTime : 
            h - 0.5 * g * totalTime * totalTime;
          drawFixedPoint(originX + endX * scale, originY - endY * scale, "blue");

          // Draw full trajectory for reference
          ctx.beginPath();
          for (let temp = 0; temp <= totalTime; temp += dt) {
            const x = vx * temp;
            const y = mode === 'vertical' ? 
              h + vy0 * temp - 0.5 * g * temp * temp : 
              h - 0.5 * g * temp * temp;
            const canvasX = originX + x * scale;
            const canvasY = originY - y * scale;
            if (temp === 0) {
              ctx.moveTo(canvasX, canvasY);
            } else {
              ctx.lineTo(canvasX, canvasY);
            }
          }
          ctx.strokeStyle = "#aaa";
          ctx.lineWidth = 2;
          ctx.stroke();

          // Draw projectile at current time (but only up to targetTime)
          const currentTime = Math.min(t, targetTime);
          const x = vx * currentTime;
          const y = mode === 'vertical' ? 
            h + vy0 * currentTime - 0.5 * g * currentTime * currentTime : 
            h - 0.5 * g * currentTime * currentTime;
          const canvasX = originX + x * scale;
          const canvasY = originY - y * scale;

          // Draw projectile image
          if (projectileImage.complete) {
            ctx.drawImage(projectileImage, canvasX - 15, canvasY - 15, 30, 30);
          } else {
            // Fallback to circle if image not loaded yet
            ctx.beginPath();
            ctx.arc(canvasX, canvasY, 7, 0, 2 * Math.PI);
            ctx.fillStyle = "purple";
            ctx.fill();
            ctx.strokeStyle = "black";
            ctx.stroke();
          }

          // Draw target point
          if (!targetPointDrawn && t >= targetTime) {
            drawPointAtTime(x, y, scale);
            targetPointDrawn = true;
          }

          // Mark maximum height point (only for vertical launch)
          if (mode === 'vertical' && vy0 > 0 && !maxHeightReached && t >= vy0 / g) {
            const maxHeightX = vx * (vy0 / g);
            const maxHeightY = h + vy0 * (vy0 / g) - 0.5 * g * Math.pow(vy0 / g, 2);
            drawFixedPoint(originX + maxHeightX * scale, originY - maxHeightY * scale, "orange");
            maxHeightReached = true;
          }

          t += dt;
          if (t <= totalTime) {
            animationId = requestAnimationFrame(drawFrame);
          } else if (!targetPointDrawn) {
            // In case targetTime is after totalTime
            drawPointAtTime(x, y, scale);
          }
        }

        cancelAnimationFrame(animationId); // Stop any previous animation
        drawFrame();
      }

      function drawPointAtTime(x, y, scale) {
        const originX = 50;
        const originY = canvas.height - 50;
        
        const canvasX = originX + x * scale;
        const canvasY = originY - y * scale;

        ctx.beginPath();
        ctx.arc(canvasX, canvasY, 7, 0, 2 * Math.PI);
        ctx.fillStyle = "red";
        ctx.fill();
        ctx.strokeStyle = "black";
        ctx.stroke();
      }

      function drawFixedPoint(x, y, color) {
        ctx.beginPath();
        ctx.arc(x, y, 7, 0, 2 * Math.PI);
        ctx.fillStyle = color;
        ctx.fill();
        ctx.strokeStyle = "black";
        ctx.stroke();
      }

      function clearCanvas() {
        ctx.fillStyle = "white";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }

      function drawCartesianPlane(scale) {
        const originX = 50;
        const originY = canvas.height - 50;
        const tickSize = 5;
        const spacing = 50;

        // Draw Grid Lines First
        ctx.strokeStyle = "#ccc";
        ctx.lineWidth = 0.5;

        // Vertical grid lines
        for (let x = originX; x < canvas.width; x += spacing) {
          ctx.beginPath();
          ctx.moveTo(x, 0);
          ctx.lineTo(x, canvas.height);
          ctx.stroke();
        }

        // Horizontal grid lines
        for (let y = originY; y > 0; y -= spacing) {
          ctx.beginPath();
          ctx.moveTo(0, y);
          ctx.lineTo(canvas.width, y);
          ctx.stroke();
        }

        // Axes
        ctx.strokeStyle = "#333";
        ctx.lineWidth = 1;

        // X-axis
        ctx.beginPath();
        ctx.moveTo(0, originY);
        ctx.lineTo(canvas.width, originY);
        ctx.stroke();

        // Y-axis
        ctx.beginPath();
        ctx.moveTo(originX, 0);
        ctx.lineTo(originX, canvas.height);
        ctx.stroke();
        
        ctx.fillStyle = "#000";
        ctx.font = "10px sans-serif";

        // X-axis ticks and labels
        for (let x = originX + spacing; x < canvas.width; x += spacing) {
          ctx.beginPath();
          ctx.moveTo(x, originY - tickSize);
          ctx.lineTo(x, originY + tickSize);
          ctx.stroke();
          const label = ((x - originX) / scale).toFixed(0);
          ctx.fillText(label, x - 5, originY + 15);
        }

        // Y-axis ticks and labels
        for (let y = originY - spacing; y > 0; y -= spacing) {
          ctx.beginPath();
          ctx.moveTo(originX - tickSize, y);
          ctx.lineTo(originX + tickSize, y);
          ctx.stroke(); 
          const label = ((originY - y) / scale).toFixed(0);
          ctx.fillText(label, originX - 25, y + 3);
        }
      }

      function resetSimulator() {
        cancelAnimationFrame(animationId);
        clearCanvas();
        solutionBtn.style.display = "none";
        resultsDiv.style.display = "none";
        document.getElementById("speed").value = "";
        document.getElementById("angle").value = "45";
        document.getElementById("height").value = "0";
        document.getElementById("givenTime").value = "1";
        gravitySelect.value = "9.81";
        customGravityInput.style.display = "none";
        customGravityInput.value = "";
        document.body.className = '';
        document.body.classList.add('earth');
        g = 9.81;
        currentAnimation = null;
      }

      function showSolution() {
        const solutionWindow = window.open("", "_blank");
        solutionWindow.document.write(`
          <html>
          <head>
            <title>Projectile Motion Solution</title>
            <style>
              body { 
                font-family: Arial, sans-serif; 
                padding: 20px; 
                line-height: 1.6;
                color: #333;
              }
              h1 { 
                color: #2c3e50; 
                border-bottom: 2px solid #4CAF50;
                padding-bottom: 10px;
              }
              .result { 
                background: #f0f0f0; 
                padding: 15px; 
                border-radius: 5px; 
                margin-bottom: 20px;
                border-left: 4px solid #4CAF50;
              }
              .calculation { 
                background: #e9f7fe; 
                padding: 15px; 
                border-radius: 5px;
                border-left: 4px solid #2196F3;
              }
              strong {
                color: #2c3e50;
              }
              ul {
                padding-left: 20px;
              }
            </style>
          </head>
          <body>
            <h1>Projectile Motion Detailed Solution</h1>
            <div class="result">
              <h2>Results</h2>
              ${resultsContent.innerHTML}
            </div>
            <div class="calculation">
              <h2>Calculations</h2>
              ${solutionContent}
            </div>
          </body>
          </html>
        `);
      }
    });
  </script>
</body>
</html>